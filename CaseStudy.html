<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="Plane.js"></script>
    <script src="bullet.js"></script>
    <script src="enemy.js"></script>

</head>
<body onload="doReady()">
<canvas id="myCanvas" width="1500" height="700" style="border: 1px solid black"></canvas>

<script>


    function start() {
        susu = new Plane(168, 91, 600, 300, 3, 3, "planeSuper1.png", "top")
        bullet =[];
        enemy = [];
        ctx = document.getElementById("myCanvas").getContext("2d");
        ctx.background = ""
    }

    function moveSelection(key) {
        switch (key.keyCode) {
            case 37:
                susu.orientation = "left";
                break;
            case 39:
                susu.orientation = "right";
                break;
            case 38:
                susu.orientation = "top";
                break;
            case 40:
                susu.orientation = "bot";
                break;
            case 32 :
                var bullet1 = new Bullet(susu.x+susu.width/2-38,susu.y-98.15,81.9,98.15,"bullet1.png",2)
                bullet.push(bullet1);
                // bullet.move();
                // bullet.draw(ctx);
                break;
        }

    }

    function doReady() {
        window.addEventListener('keydown', moveSelection);
    }

    function play() {

        susu.move();
        // bullet.move();
        // ctx.clearRect(0, 0, 1500, 700)
        susu.draw(ctx);
        for (let i = 0; i < bullet.length; i++) {
            bullet[i].move();
            bullet[i].draw(ctx);
        }
        // bullet.draw(ctx);
        // susu.check();
        requestAnimationFrame(play);
    }
    var ctx;
    var susu;
    var bullet;
    var enemy;
    start();
    play();
    </script>
</body>
</html>